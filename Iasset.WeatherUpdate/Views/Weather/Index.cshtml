@model Iasset.WeatherUpdate.Models.LocationWeatherUpdate


@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Weather Update</h2>


@using (Html.BeginForm("GetCityList", "Weather"))
{
    <div class="form-group">
        @Html.LabelFor(m => m.Country)
        @Html.TextBoxFor(m => m.Country, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Country)



    </div>
    try
    {

        if (Model.CityList == null)
        {
            if (Model.Country != "")
            {
                <div>
                    <text style="color:red">Invalid Country Name - Please Try Again!</text>
                </div>

            }
        }
    }
    catch (Exception e)
    { }



    <div class="form-group">

        <button id="GetCities" type="submit" class="btn btn-primary">Get Cities</button>
    </div>
}

@using (Html.BeginForm("GetWeatherUpdate", "Weather"))
{
    try
    {
        if (Model.CityList != null)
        {
            if (Model.CityList.Count() > 0)
            {
                <div class="form-group">

                    @Html.LabelFor(m => m.CityList)
                    @Html.DropDownListFor(m => m.CityList, new SelectList(Model.CityList, "CityName", "CityName"), "Select City", new { @class = "form-control" })
                    

                </div>

                if (@ViewBag.Message != "")
                {
                    <div>
                        <text style="color:red">@ViewBag.Message</text>
                    </div>
                }
                        <div>
                            <button id="GetWeather" type="submit" class="btn btn-primary">Get Weather Update</button>
                        </div>
            }
        }


        if (Model.Status != null)
        {
            if (Model.Status != "")//We got Weather Update
            {
                <div class="form-group">
                    <br />
                    <h2>Weather Update Report</h2>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Status)
                        @Html.DisplayTextFor(m => m.Status)
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(m => m.CompleteLocation)
                        @Html.DisplayTextFor(m => m.CompleteLocation)
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(m => m.Time)
                        @Html.DisplayTextFor(m => m.Time)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Wind)
                        @Html.DisplayTextFor(m => m.Wind)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Visibility)
                        @Html.DisplayTextFor(m => m.Visibility)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.SkyConditions)
                        @Html.DisplayTextFor(m => m.SkyConditions)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Temperature)
                        @Html.DisplayTextFor(m => m.Temperature)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.DewPoint)
                        @Html.DisplayTextFor(m => m.DewPoint)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.RelativeHumidity)
                        @Html.DisplayTextFor(m => m.RelativeHumidity)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Pressure)
                        @Html.DisplayTextFor(m => m.Pressure)
                    </div>
                </div>

            }
        }


    }
    catch (Exception e)
    { }





}


